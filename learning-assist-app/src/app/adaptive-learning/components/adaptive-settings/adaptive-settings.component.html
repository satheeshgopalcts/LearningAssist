<div class="adaptive-settings">
  <div class="header">
    <h1>Adaptive Learning Settings</h1>
    <p>Customize how the AI adapts your learning experience</p>
  </div>

  <form [formGroup]="settingsForm" (ngSubmit)="onSaveSettings()">
    <div class="settings-grid">
      <mat-card class="settings-section">
        <mat-card-header>
          <mat-card-title>Learning Preferences</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field appearance="outline">
            <mat-label>Learning Style</mat-label>
            <mat-select formControlName="learningStyle">
              <mat-option *ngFor="let style of learningStyles" [value]="style">
                {{ style | titlecase }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Difficulty Progression</mat-label>
            <mat-select formControlName="difficultyProgression">
              <mat-option *ngFor="let progression of difficultyProgressions" [value]="progression">
                {{ progression | titlecase }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Adaptation Frequency</mat-label>
            <mat-select formControlName="adaptationFrequency">
              <mat-option *ngFor="let frequency of adaptationFrequencies" [value]="frequency">
                {{ frequency | titlecase }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-section">
        <mat-card-header>
          <mat-card-title>AI Behavior</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="threshold-setting">
            <label>Intervention Threshold</label>
            <mat-slider formControlName="interventionThreshold" min="0" max="1" step="0.1" showTickMarks discrete>
            </mat-slider>
            <span class="threshold-value">{{ settingsForm.get('interventionThreshold')?.value | percent }}</span>
          </div>

          <mat-checkbox formControlName="personalizedRecommendations">
            Enable Personalized Recommendations
          </mat-checkbox>

          <mat-checkbox formControlName="realTimeAdjustments">
            Enable Real-time Adjustments
          </mat-checkbox>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="actions">
      <button mat-raised-button color="primary" type="submit">Save Settings</button>
      <button mat-button type="button" (click)="onResetToDefaults()">Reset to Defaults</button>
    </div>
  </form>
</div>
